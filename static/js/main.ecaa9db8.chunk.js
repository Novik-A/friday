(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{16:function(e,t,r){e.exports={input:"SuperInputText_input__25OR4",superInput:"SuperInputText_superInput__3RWk6",errorInput:"SuperInputText_errorInput__4-GBi",error:"SuperInputText_error__4JXAQ"}},21:function(e,t,r){e.exports={body:"Error404_body__1ZmcP",c:"Error404_c__Y5t9r",_404:"Error404__404__1xB8i",_1:"Error404__1__2xlpo",_2:"Error404__2__Vq8j7",btn:"Error404_btn__3QVIX",hr:"Error404_hr__iZU22"}},33:function(e,t,r){e.exports={btn:"SuperButton_btn__1l1KE",red:"SuperButton_red__3YjQN"}},4:function(e,t,r){e.exports={body:"Forgot_body__1yGX2",header:"Forgot_header__1VTNh",page:"Forgot_page__36hEU",text:"Forgot_text__2mze1",textLink:"Forgot_textLink__2BWBZ",link:"Forgot_link__2FjTQ"}},47:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__1jNOX"}},53:function(e,t,r){},54:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(24),s=r.n(c),o=(r(53),r(54),r(6)),i=r(8),l=r(5),d=r(21),j=r.n(d),u=r(1),b=function(){return Object(u.jsx)("div",{className:j.a.body,children:Object(u.jsxs)("div",{className:j.a.c,children:[Object(u.jsx)("div",{className:j.a._404,children:"404"}),Object(u.jsx)("hr",{className:j.a.hr}),Object(u.jsx)("div",{className:j.a._1,children:"THE PAGE"}),Object(u.jsx)("div",{className:j.a._2,children:"WAS NOT FOUND"}),Object(u.jsx)("a",{className:j.a.btn,href:"#",children:"BACK TO HOME"})]})})},O=r(2),h=r(26),p=r.n(h),m=p.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/"}),g=function(e){return m.post("auth/login",e)},x=function(e){return m.post("auth/register",e)},f=(p.a.create({baseURL:"https://neko-cafe-back.herokuapp.com/"}),{isLoggedIn:!1}),v={status:"idle",error:null,isInitialized:!1},_=function(e){return{type:"APP/SET-STATUS",status:e}},N=function(e){return m.post("auth/forgot",e)},S=function(e){return m.post("auth/set-new-password",e)},E="FORGOT/ERROR",I="FORGOT/SUCCESS",T="SET_PASS/SUCCESS",w={linkSent:!1,setNewPass:!1,email:"",error:""},y=function(e){return{type:E,error:e}},k=function(e){return function(t){t(_("loading"));var r={email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">password recovery link: \n                <a href='http://localhost:3000/#/set-new-password/$token$'>link</a></div>"};N(r).then((function(e){t(function(e){return{type:I,email:e}}(r.email)),t(_("succeeded"))})).catch((function(e){var r=e.response?e.response.data.error:e.message+", more details in the console";console.log("Error: ",r),t(y(r)),t(_("failed"))}))}},C=function(e){return function(t){t(_("loading")),S(e).then((function(e){t({type:T}),t(_("succeeded"))})).catch((function(e){var r=e.response?e.response.data.error:e.message+", more details in the console";console.log("Error: ",r),t(y(r)),t(_("failed"))}))}},R=new Date,P={userData:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:R,updated:R,isAdmin:!1,verified:!1,rememberMe:!1,error:""},isRegistered:!1,isLoggedIn:!1},F=r(29),A=r(4),L=r.n(A),G=r(19),U=r(16),D=r.n(U),H=function(e){e.type;var t=e.onChange,r=e.onChangeText,n=e.onKeyPress,a=e.onEnter,c=e.error,s=e.className,o=e.spanClassName,i=Object(G.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(D.a.error," ").concat(o||""),d="".concat(D.a.input," ").concat(c?D.a.errorInput:D.a.superInput," ").concat(s||"");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",Object(O.a)({type:"text",onChange:function(e){t&&t(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),"Enter"===e.key&&a&&a()},className:d},i)),c&&Object(u.jsx)("span",{className:l,children:c})]})},Z=function(e){e.type;var t=e.onChange,r=e.onChangeText,n=e.onKeyPress,a=e.onEnter,c=e.error,s=e.className,o=e.spanClassName,i=Object(G.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(D.a.error," ").concat(o||""),d="".concat(D.a.input," ").concat(c?D.a.errorInput:D.a.superInput," ").concat(s||"");return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",Object(O.a)({type:"password",onChange:function(e){t&&t(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),"Enter"===e.key&&a&&a()},className:d},i)),c&&Object(u.jsx)("span",{className:l,children:c})]})},M=r(33),B=r.n(M),K=function(e){var t=e.red,r=e.className,n=Object(G.a)(e,["red","className"]),a="".concat(t?B.a.red:B.a.btn," ").concat(r);return Object(u.jsx)("button",Object(O.a)({className:a},n))},V=r(47),$=r.n(V),q=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,n=e.className,a=(e.spanClassName,e.children),c=Object(G.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(n||"");return Object(u.jsxs)("label",{className:$.a.checkbox,children:[Object(u.jsx)("input",Object(O.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)},className:s},c)),Object(u.jsx)("span",{children:a})]})},z=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.loginRegister.isLoggedIn})),r=Object(o.c)((function(e){return e.forgot.error}));Object(n.useEffect)((function(){e(y(""))}),[]);var a=Object(F.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?/^[A-Z0-9._%+-]{5,15}$/i.test(e.password)||(t.email="Invalid password"):t.password="Required",t},onSubmit:function(t){var r;e((r=t,function(e){e(_("loading")),g(r).then((function(t){e({type:"AUTH/LOGIN",loginResponse:t.data}),e({type:"AUTH/SET-IS-LOGGED-IN",isLogged:!0}),e(_("succeeded"))})).catch((function(t){var r=t.response?t.response.data.error:t.message+", more details in the console";console.log("Error: ",r),e(y(r)),e(_("failed"))}))})),a.resetForm()}});return t?Object(u.jsx)(l.a,{to:"/profile"}):Object(u.jsxs)("div",{className:L.a.body,children:[Object(u.jsx)("div",{className:L.a.header,children:"It-incubator"}),Object(u.jsx)("div",{className:L.a.page,children:"Sing In"}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"email"}),Object(u.jsx)(H,Object(O.a)({id:"email",error:r},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(u.jsx)("div",{style:{color:"red"},children:a.errors.email})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"password"}),Object(u.jsx)(Z,Object(O.a)({id:"password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(u.jsx)("div",{style:{color:"red"},children:a.errors.password})]}),Object(u.jsx)("div",{children:Object(u.jsx)(q,Object(O.a)({children:"Remember me"},a.getFieldProps("rememberMe")))}),Object(u.jsx)(i.b,{to:ce.FORGOT,className:L.a.textLink,children:"Forgot password"}),Object(u.jsx)("div",{children:Object(u.jsx)(K,{type:"submit",children:"Login"})})]}),Object(u.jsx)("div",{className:L.a.text,children:"Don't have an account?"}),Object(u.jsx)(i.b,{to:ce.REGISTER,className:L.a.link,children:"Sing Up"})]})},J=function(){var e=Object(o.c)((function(e){return e.forgot.error})),t=Object(o.c)((function(e){return e.loginRegister.isRegistered})),r=Object(o.c)((function(e){return e.loginRegister.isLoggedIn}));Object(n.useEffect)((function(){a(y(""))}),[]);var a=Object(o.b)(),c=Object(F.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?/^[A-Z0-9._%+-]{5,15}$/i.test(e.password)||(t.email="Invalid password"):t.password="Password is required",t},onSubmit:function(e){var t;console.log(e),alert(JSON.stringify(e)),a((t=e,function(e){e(_("loading")),x(t).then((function(t){e({type:"AUTH/REGISTER"}),e({type:"AUTH/IS_REGISTERED",isRegistered:!0}),e(_("succeeded"))})).catch((function(t){var r=t.response?t.response.data.error:t.message+", more details in the console";console.log("Error: ",r),e(y(r)),e(_("failed"))}))})),c.resetForm()}});return t?Object(u.jsx)(l.a,{to:"/login"}):r?Object(u.jsx)(l.a,{to:"/profile"}):Object(u.jsxs)("div",{className:L.a.body,children:[Object(u.jsx)("div",{className:L.a.header,children:"It-incubator"}),Object(u.jsx)("div",{className:L.a.page,children:"Sing In"}),Object(u.jsxs)("form",{action:"",onSubmit:c.handleSubmit,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"email"}),Object(u.jsx)(H,Object(O.a)({id:"email",error:e},c.getFieldProps("email"))),c.touched.email&&c.errors.email?Object(u.jsx)("div",{style:{color:"red"},children:c.errors.email}):null]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"password"}),Object(u.jsx)(Z,Object(O.a)({id:"password"},c.getFieldProps("password"))),c.touched.password&&c.errors.password?Object(u.jsx)("div",{style:{color:"red"},children:c.errors.password}):null]}),Object(u.jsx)(K,{type:"submit",children:"Register"})]})]})},Q=r(22),W=function(){var e=Object(n.useState)(""),t=Object(Q.a)(e,2),r=t[0],a=t[1],c=r?"":"error",s=function(){c?alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442..."):alert(r)},o=Object(n.useState)(!1),i=Object(Q.a)(o,2),l=i[0],d=i[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"TestPage"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(H,{value:r,onChangeText:a,onEnter:s,error:c}),Object(u.jsx)(K,{onClick:s,children:"delete"}),Object(u.jsx)(q,{checked:l,onChangeChecked:d,children:"some text"}),Object(u.jsx)(q,{checked:l,onChange:function(e){return d(e.currentTarget.checked)}})]})]})},X=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:"Main"})})},Y=function(e){var t=e.error;console.log("render Forgot"),Object(n.useEffect)((function(){r(y(""))}),[]);var r=Object(o.b)(),a=Object(n.useState)(""),c=Object(Q.a)(a,2),s=c[0],l=c[1];return Object(u.jsxs)("div",{className:L.a.body,children:[Object(u.jsx)("div",{className:L.a.header,children:"It-incubator"}),Object(u.jsx)("div",{className:L.a.page,children:"Forgot your password?"}),Object(u.jsx)(H,{onChange:function(e){l(e.currentTarget.value),r(y(""))},error:t,placeholder:"Email"}),Object(u.jsx)("div",{className:L.a.text,children:"Enter your email address and we will send you further instructions"}),Object(u.jsx)(K,{onClick:function(){r(k(s))},children:"Send Instructions"}),Object(u.jsx)("div",{className:L.a.text,children:"Did you remember your password?"}),Object(u.jsx)(i.b,{to:ce.LOGIN,className:L.a.link,children:"Try logging in"})]})},ee=function(e){var t=e.email;return console.log("render CheckEmail"),Object(u.jsxs)("div",{className:L.a.body,children:[Object(u.jsx)("div",{className:L.a.header,children:"It-incubator"}),Object(u.jsx)("div",{className:L.a.page,children:"Check Email"}),Object(u.jsxs)("div",{className:L.a.text,children:["We've sent an Email with instructions to ",t]})]})},te=function(){var e=Object(o.c)((function(e){return e.forgot.linkSent})),t=Object(o.c)((function(e){return e.forgot.email})),r=Object(o.c)((function(e){return e.forgot.error}));return Object(o.c)((function(e){return e.loginRegister.isLoggedIn}))?Object(u.jsx)(l.a,{to:"/"}):Object(u.jsx)(u.Fragment,{children:e?Object(u.jsx)(ee,{email:t}):Object(u.jsx)(Y,{error:r})})},re=function(){return console.log("render ForgotPage"),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(te,{})})},ne=Object(l.h)((function(){var e=Object(l.g)().token;console.log("render SetPass");var t=Object(o.b)();Object(n.useEffect)((function(){t(y(""))}),[]);var r=Object(o.c)((function(e){return e.forgot.error})),a=Object(o.c)((function(e){return e.forgot.setNewPass})),c=(Object(o.c)((function(e){return e.loginRegister.isLoggedIn})),Object(n.useState)("")),s=Object(Q.a)(c,2),i=s[0],d=s[1];return a?Object(u.jsx)(l.a,{to:"/login"}):Object(u.jsxs)("div",{className:L.a.body,children:[Object(u.jsx)("div",{className:L.a.header,children:"It-incubator"}),Object(u.jsx)("div",{className:L.a.page,children:"Create new password"}),Object(u.jsx)(H,{onChange:function(e){d(e.currentTarget.value),r&&t(y(""))},error:r,placeholder:"Password"}),Object(u.jsx)("div",{className:L.a.text,children:"Create new password and we will send you further instructions to email"}),Object(u.jsx)(K,{onClick:function(){i.length<8?t(y("Password must be more than 7 characters")):t(C({password:i,resetPasswordToken:e}))},children:"Create new password"})]})})),ae=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:"Profile"})})},ce={MAIN:"/main",LOGIN:"/login",REGISTER:"/register",TEST:"/test",FORGOT:"/forgot",SET_PASS:"/set-new-password/:token",PROFILE:"/profile"},se=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(l.a,{to:ce.MAIN})}}),Object(u.jsx)(l.b,{path:ce.MAIN,render:function(){return Object(u.jsx)(X,{})}}),Object(u.jsx)(l.b,{path:ce.LOGIN,render:function(){return Object(u.jsx)(z,{})}}),Object(u.jsx)(l.b,{path:ce.REGISTER,render:function(){return Object(u.jsx)(J,{})}}),Object(u.jsx)(l.b,{path:ce.FORGOT,render:function(){return Object(u.jsx)(re,{})}}),Object(u.jsx)(l.b,{path:ce.SET_PASS,render:function(){return Object(u.jsx)(ne,{})}}),Object(u.jsx)(l.b,{path:ce.PROFILE,render:function(){return Object(u.jsx)(ae,{})}}),Object(u.jsx)(l.b,{path:ce.TEST,render:function(){return Object(u.jsx)(W,{})}}),Object(u.jsx)(l.b,{render:function(){return Object(u.jsx)(b,{})}})]})})},oe=r(9),ie=r.n(oe),le=function(e){return Object(u.jsxs)("div",{className:ie.a.header,children:[Object(u.jsx)(i.b,{to:ce.MAIN,className:ie.a.link,activeClassName:ie.a.active,children:"Main"}),Object(u.jsx)(i.b,{to:ce.LOGIN,className:ie.a.link,activeClassName:ie.a.active,children:"Login"}),Object(u.jsx)(i.b,{to:ce.REGISTER,className:ie.a.link,activeClassName:ie.a.active,children:"Register"}),Object(u.jsx)(i.b,{to:ce.FORGOT,className:ie.a.link,activeClassName:ie.a.active,children:"Forgot"}),Object(u.jsx)(i.b,{to:ce.SET_PASS,className:ie.a.link,activeClassName:ie.a.active,children:"SetPass"}),Object(u.jsx)(i.b,{to:ce.PROFILE,className:ie.a.link,activeClassName:ie.a.active,children:"Profile"}),Object(u.jsx)(i.b,{to:ce.TEST,className:ie.a.link,activeClassName:ie.a.active,children:"TestPage"})]})},de=function(){var e=Object(o.c)((function(e){return e.app.status})),t=Object(o.c)((function(e){return e.loginRegister.isLoggedIn}));return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(le,{isLoggedIn:t}),Object(u.jsx)(se,{}),"loading"===e&&Object(u.jsx)("div",{children:"LOADING..."})]})},je=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,79)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},ue=r(30),be=r(48),Oe=Object(ue.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});case"APP/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case"APP/SET-IS-INITIALIZED":return Object(O.a)(Object(O.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-IS-LOGGED-IN":return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.isLogged});default:return e}},loginRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/LOGIN":return Object(O.a)(Object(O.a)({},e),{},{userData:t.loginResponse,isLoggedIn:!0});case"AUTH/IS_REGISTERED":return Object(O.a)(Object(O.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(O.a)(Object(O.a)({},e),{},{linkSent:!0,email:t.email});case E:return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case T:return Object(O.a)(Object(O.a)({},e),{},{setNewPass:!0});default:return e}}}),he=Object(ue.c)(Oe,Object(ue.a)(be.a));window.store=he,s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(o.a,{store:he,children:Object(u.jsx)(de,{})})})}),document.getElementById("root")),je()},9:function(e,t,r){e.exports={header:"Header_header__SknYj",link:"Header_link__1cb0f",active:"Header_active__b-SPl",block:"Header_block__kYiV1"}}},[[78,1,2]]]);
//# sourceMappingURL=main.ecaa9db8.chunk.js.map